<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>community nav</title>
  <style>
    :root{
      --bg: #fbfbff;        
      --nav-bg: #f3e8ff;  
      --accent: #ffd6d5;     
      --text: #153243;    
      --muted: #142225;
    }

    /* basic reset */
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text);}

    /* nav layout - flex on desktop */
    nav.main-nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0.6rem 1rem;
      background:var(--nav-bg);
      border-bottom:1px solid rgba(0,0,0,0.06);
    }
    .nav-brand{font-weight:700;color:var(--muted);}

    /* menu - desktop is flex */
    .nav-menu{
      display:flex;
      list-style:none;
      gap:0.5rem;
      margin:0;
      padding:0;
    }
    .nav-menu a{
      text-decoration:none;
      color:var(--text);
      padding:0.4rem 0.7rem;
      border-radius:6px;
      font-size:0.95rem;
    }
    .nav-menu a:focus,
    .nav-menu a:hover{outline:2px solid transparent; box-shadow:0 0 0 4px rgba(21,50,67,0.06);}

    /* primary button look for post gig */
    .primary{background:var(--accent);font-weight:700;color:var(--text);}

    /* hamburger hidden on desktop */
    .nav-toggle{display:none;border:0;background:none;width:44px;height:44px;align-items:center;justify-content:center;border-radius:6px;cursor:pointer;}
    .nav-toggle .bar{display:block;width:18px;height:2px;background:var(--text);position:relative;transition:transform .2s ease}
    .nav-toggle .bar::before,
    .nav-toggle .bar::after{content:"";position:absolute;left:0;right:0;height:2px;background:var(--text);transition:transform .2s ease; }
    .nav-toggle .bar::before{top:-6px}
    .nav-toggle .bar::after{bottom:-6px}

    /* mobile: hide menu, show hamburger */
    @media (max-width:768px){
      .nav-menu{display:none}
      .nav-toggle{display:flex}
      .nav-menu.show{
        display:block;
        position:absolute;
        left:0;right:0;top:100%;
        background:var(--nav-bg);
        padding:0.5rem;
        box-shadow:0 8px 20px rgba(0,0,0,0.06);
      }
      .nav-menu.show li{margin:0.3rem 0}
      .nav-menu.show a{display:block;padding:0.6rem 0.8rem}
    }

    /* simple open state for icon */
    .nav-toggle.open .bar{transform:rotate(45deg)}
    .nav-toggle.open .bar::before{opacity:0}
    .nav-toggle.open .bar::after{opacity:0}
  </style>
</head>
<body>

  <nav class="main-nav" role="navigation" aria-label="main">
    <div class="nav-brand">boulder music hub</div>

    <button class="nav-toggle" aria-controls="main-menu" aria-expanded="false" aria-label="toggle menu">
      <span class="bar" aria-hidden="true"></span>
    </button>

    <ul class="nav-menu" id="main-menu">
      <li><a href="#home">home</a></li>
      <li><a href="#artists">artists</a></li>
      <li><a href="#gigs">gigs</a></li>
      <li><a href="#events">events</a></li>
      <li><a href="#resources">resources</a></li>
      <li><a class="primary" href="#post-gig">post a gig</a></li>
    </ul>
  </nav>

  <main style="padding:1rem;">
    <!-- minimal content required for testing -->
    <h1 style="margin:0 0 0.5rem 0;color:var(--muted)">nav demo</h1>
    <p style="margin:0;color:var(--muted)">resize to test mobile, try keyboard (tab, enter/space, esc).</p>
  </main>

  <script>
    /* minimal js for toggle + accessibility + keyboard + outside click */
    (function(){
      const btn = document.querySelector('.nav-toggle');
      const menu = document.querySelector('.nav-menu');
      const firstLink = menu.querySelector('a');

      function openMenu(){
        menu.classList.add('show');
        btn.classList.add('open');
        btn.setAttribute('aria-expanded','true');
        if(firstLink) firstLink.focus(); // focus first link when opened
        document.addEventListener('click', outsideClick, true);
        document.addEventListener('keydown', onKeyDown);
      }

      function closeMenu(){
        menu.classList.remove('show');
        btn.classList.remove('open');
        btn.setAttribute('aria-expanded','false');
        document.removeEventListener('click', outsideClick, true);
        document.removeEventListener('keydown', onKeyDown);
        btn.focus();
      }

      function toggle(){
        if(menu.classList.contains('show')) closeMenu();
        else openMenu();
      }

      btn.addEventListener('click', function(e){
        e.stopPropagation();
        toggle();
      });

      btn.addEventListener('keydown', function(e){
        if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); toggle(); }
      });

      function onKeyDown(e){
        if(e.key === 'Escape') closeMenu();
      }

      function outsideClick(e){
        if(!menu.contains(e.target) && !btn.contains(e.target)) closeMenu();
      }

      // close when a menu link is clicked on mobile
      menu.addEventListener('click', function(e){
        if(e.target.tagName === 'A' && window.matchMedia('(max-width:768px)').matches){
          closeMenu();
        }
      });

      // if resized to desktop, ensure menu is visible/hidden appropriately
      window.addEventListener('resize', function(){
        if(window.matchMedia('(min-width:769px)').matches){
          menu.classList.remove('show');
          btn.classList.remove('open');
          btn.setAttribute('aria-expanded','false');
          document.removeEventListener('click', outsideClick, true);
          document.removeEventListener('keydown', onKeyDown);
        }
      });
    })();
  </script>
</body>
</html>
